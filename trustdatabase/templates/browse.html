{% extends "base.html" %}
{% block content %}

<div>
    <h1>Browse</h1>
    <p>Select a region to display a list of related trusts</p>  
</div>

<div class="row">
    <div class="col">
        <a href="{{ url_for('add_region')}}" class="btn btn-outline-primary">Add Region <i
                class="fa-solid fa-plus"></i></a>
    </div>
</div>

<div class="row">
    {% for region in regions %}
    <div class="col sm-12 m-6 l-3">
        <div class="card">
            <div class="card-body">
              <button type="button" class="btn btn-primary btn-lg">{{ region.region_name }}</button>
              <br>
              <a href="{{ url_for('edit_region', region_id=region.id) }}"><button type="button" class="btn btn-warning">Edit</button></a>
              <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#modal-{{ region.id }}">
                Delete
              </button>

            <!-- Modal -->
            <div class="modal fade" id="modal-{{ region.id }}" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="ModalLabel">Confirm Deletion</h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      Deleting this region will also delete all related trusts. Are you sure you want to delete this region?
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                      <a href="{{ url_for('delete_region', region_id=region.id) }}"><button type="button" class="btn btn-primary">Delete</button></a>
                    </div>
                  </div>
                </div>
              </div>


            </div>
          </div>
        
       
    </div>
    {% endfor %}
</div>






{% endblock %}

<!-- add event listener to buttons
when button is pressed, a list of related trusts are displayed below buttons, in the same way they appear in the home page -->